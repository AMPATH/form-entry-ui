<div [class.well]="schema.name">

<div *ngIf="schema.name">
 <h4 id="schema" (click)="onClicked(schema)"><i class="fa fa-lg fa-newspaper-o"></i> {{schema.name}}</h4>
</div>

<div  style="margin-left:20px" *ngIf="schema.pages">
   <a (click)="pageToggler()"> <i class="fa fa-plus-square"></i> Add new page</a>
   <div [class.display]="pageToggle">
     <form [formGroup]="addPageForm" noValidate>
      <div class="form-group">
        <input class="form-control" type="text" placeholder="Enter new page name" formControlName="pageLabel"><br/>
        </div>
       <button (click)="createPage()" class="btn btn-primary btn-sm" [disabled]="!addPageForm.valid">Create</button>
       <button (click)="pageToggler()" class="btn btn-default btn-sm">Cancel</button>
     </form>
      </div>
</div>
  <div *ngFor="let page of schema.pages; let i=index;">
    <a [href]="'#page'+i" data-toggle="collapse"><i class="fa fa-chevron-down"> </i></a>
    <h6 (click)="onClicked(page)" class="element">{{page.label}}</h6>
    <div [id]="'page'+ i" class="collapse">
     <app-navigator [pageIndex]="i" [_schema]="page" [formSchema]="_formSchema"></app-navigator>
     </div>
    </div>
</div>

<div style="margin-left:20px" *ngIf="schema.sections">

  <a (click)="sectionToggler()"><i class="fa fa-plus-square"></i> Add new section</a>
  <div [class.display]="sectionToggle">
     <form [formGroup]="addSectionForm" noValidate>
      <div class="form-group">
        <input class="form-control" type="text" placeholder="Enter new section name" formControlName="sectionLabel"><br/>
        </div>
      <div class="form-group">
        <select class="form-control" type="text" formControlName="isExpanded">
          <option value="" disabled selected>Expanded</option>
          <option [value]="true">True</option>
          <option [value]="false">False</option>
          </select><br/>
        </div>
       <button (click)="createSection(pageIndex)" class="btn btn-primary btn-sm" [disabled]="!addSectionForm.valid">Create</button>
       <button (click)="sectionToggler()" class="btn btn-default btn-sm">Cancel</button>
     </form>
  </div>


  <div *ngFor="let section of schema.sections; let j= index;">
    <a [href]="'#section'+pageIndex+j" data-toggle="collapse"><i class="fa fa-chevron-down"> </i></a>
    <p (click)="onClicked(section)" class="element" >{{section.label}}</p>
    <div [id]="'section'+pageIndex+j" class="collapse">
    <app-navigator [sectionIndex]="j" [_schema]="section" [formSchema]="_formSchema"></app-navigator>
  </div>
  </div>

</div>


<div style="margin-left:20px" *ngIf="schema.questions">
  <a><i class="fa fa-plus-square"></i> Add new question</a>
  <div *ngFor="let question of schema.questions; let k=index;">
    <a [href]="'#question'+sectionIndex+k" data-toggle="collapse"></a>
      <p class="element" (click)="onClicked(question)">{{question.label}}</p>
    <div [id]="'question'+sectionIndex+k" class="collapse">
    <app-navigator [_schema]="question"></app-navigator>
</div>
</div>
</div>


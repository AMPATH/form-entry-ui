<div *ngIf="loading" id="loadingDiv">
  <img class="loader" src="../../../assets/loader.gif">
  
</div>
<div *ngIf="schema">
  
    <md-sidenav-container>
      <md-sidenav #sidenav mode="over" class="app-sidenav">
        
        <!---Navigator-->
        <app-navigator [_schema]="schema" [formSchema]="schema"  [mode]="'edit'" (closeSidebar)="closeNavigator($event)"></app-navigator>
  
      </md-sidenav>
      <md-toolbar color="primary">
        <button md-icon-button (click)="sidenav.toggle()"><md-icon class="md-24" >menu</md-icon></button>
        <span style="font-size:22px">Form Editor</span>
        <span class="menu"></span>
        
        <span flex></span>
        <app-reference-forms [schema]="schema"></app-reference-forms>
      </md-toolbar>
      <div class="app-content" *ngIf="schema">
        <div class="row">
  
          <!--Element Editor-->
          <div class="col-md-4">
            <div *ngIf="!questions">
              
              <div class="text-center" style="background:white;">
                <div style="background-color:#ebebeb; padding:5px 0px 10px 0px">
                  Element Editor
                </div>
              </div>
              <md-card>
                  <div style="height:76vh">
                <h5 class="text-center align-middle">Add or Edit an element to <a (click)="openNavigator()">get started.</a></h5>
                  </div>
              </md-card>
            </div>
            <div *ngIf="questions">
              <a (click)="closeElementEditor()" data-toggle="tooltip" title="close" class="pull-right" style="margin-right:5px; padding-top:5px; cursor:pointer;"><i class="material-icons">close</i></a>
              <app-element-editor [schema]="schema" [pageIndex]="page" [sectionIndex]="section" [questionIndex]="question" [parentQuestionIndex]="parentQuestionIndex"
                [_questions]="questions" [rawSchema]="rawSchema"></app-element-editor>
            </div>
          </div>
  
          <!--Schema editor-->
          <div class="col-md-4">
            <app-schema-editor [selectedSchema]="selectedSchema" [selectedRawSchema]="selectedRawSchema" [schema]="strSchema" [rawSchema]="strRawSchema"></app-schema-editor>
          </div>
  
          <!--Form-renderer-->
          <div class="col-md-4" flex *ngIf="schema">
            <app-form-renderer [schema]="schema"></app-form-renderer>
          </div>
        </div>
      </div>
    </md-sidenav-container>
</div>